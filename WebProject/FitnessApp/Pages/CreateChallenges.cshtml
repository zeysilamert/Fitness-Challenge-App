@page
@model FitnessChallengeApp.Pages.Challenges.CreateModel
@{
    ViewData["Title"] = "Create Challenge";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: monospace;
    }

    body {
        min-height: 100vh;
        background-size: cover;
        background-position: center;
    }

    h2 {
        text-align: center;
        margin: 20px 0;
        font-size: 28px;
    }

    .main{
        border: 2px solid rgb(0, 0, 0);
        border-radius: 15px;
        margin: 0 auto;
        padding: 20px;
        background: rgba(231, 164, 227, 0.592);
    }

    .challenge-form {
        max-width: 600px;
        margin: 0 auto;
        background: rgba(231, 164, 227, 0.592);
        padding: 20px;
        border: 2px solid rgb(0, 0, 0);
        border-radius: 30px;
    }

    .form-control1 {
        width: 100%;
        height: 50px;
        background: white;
        border: none;
        outline: none;
        border: 2px solid rgb(0, 0, 0);
        border-radius: 40px;
        font-size: 15px;
        color: rgb(0, 0, 0);
        padding: 0 20px;
    }
    
    textarea.form-control {
        height: 100px;
        padding-top: 10px;
    }

    .btn-ch2 {
        width: 100%;
        height: 35px;
        background: white;
        border: none;
        outline: none;
        border-radius: 30px;
        box-shadow: 0 0 10px rgb(90, 87, 87);
        cursor: pointer;
        font-size: 15px;
        color: rgb(73, 60, 75);
        font-weight: 600;
        margin-top: 20px;
    }

    button[type="submit"]:active{
    background: linear-gradient(90deg, white, rgb(232, 120, 228))
}

</style>
<h2>Create Challenge</h2>

<form class="main" method="post">
    <div class="form-group">
        <label asp-for="Challenges.Title"></label>
        <input asp-for="Challenges.Title" class="form-control1" />
        <span asp-validation-for="Challenges.Title" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Challenges.Category">Category</label>
        <select asp-for="Challenges.Category" class="form-control1">
            <option value="">All</option>
            <option value="Step">Step</option>
            <option value="Squad">Squad</option>
            <option value="Cardio">Cardio</option>
            <option value="Weight Loss">Weight Loss</option>
        </select>
        <span asp-validation-for="Challenges.Category" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Challenges.StartDate">Start Date</label>
        <input asp-for="Challenges.StartDate" id="startDate" type="date" class="form-control1" />
        <script>
            flatpickr("#startDate", {
                enableTime: true,
                noCalendar: false,
                dateFormat: "Y-m-d H:i",
                minDate: "today",
                minuteIncrement: 30,
                time_24hr: true
            });
        </script>
    </div>

    <div class="form-group">
        <label asp-for="Challenges.EndDate">End Date</label>
        <input asp-for="Challenges.EndDate" id="endDate" type="date" class="form-control1" />
        <script>
            flatpickr("#endDate", {
                enableTime: true,
                noCalendar: false,
                dateFormat: "Y-m-d H:i",
                minDate: "today",
                minuteIncrement: 30,
                time_24hr: true
            });
        </script>
    </div>
    <div class="form-group">
        <label asp-for="Challenges.DifficultyLevel">Difficulty Level</label>
        <select asp-for="Challenges.DifficultyLevel" class="form-control1">
            <option value="">All</option>
            <option value="Beginner">Beginner</option>
            <option value="Intermediate">Intermediate</option>
            <option value="Advanced">Advanced</option>
        </select>
        <span asp-validation-for="Challenges.DifficultyLevel" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Challenges.Instruction"></label>
        <textarea asp-for="Challenges.Instruction" class="form-control1"></textarea>
        <span asp-validation-for="Challenges.Instruction" class="text-danger"></span>
    </div>
    <button type="submit" class="btn-ch2">Create Challenge</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const startDatePicker = flatpickr("#startDate", {
            enableTime: true,
            noCalendar: false,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            minuteIncrement: 30,
            time_24hr: true,
            onChange: function (selectedDates) {
                const startDate = selectedDates[0];
                endDatePicker.set('minDate', new Date(startDate.getTime() + (30 * 60 * 1000)));
            }
        });

        const endDatePicker = flatpickr("#endDate", {
            enableTime: true,
            noCalendar: false,
            dateFormat: "Y-m-d H:i",
            minDate: "today",
            minuteIncrement: 30,
            time_24hr: true
        });
    });
</script>